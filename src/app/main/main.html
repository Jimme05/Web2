<!-- main.html -->

<!-- ЁЯОо Navbar -->
<nav class="navbar">
  <div class="logo">
    <span>ЁЯОо</span>
    <span class="logo-text">GameShop</span>
  </div>
  <div class="nav-links">
    <button class="nav-btn">
      <span class="btn-icon">ЁЯПк</span>
      р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓
    </button>
    
    <ng-container *ngIf="!isLoggedIn">
      <button class="nav-btn-outline" (click)="openModal('login')">
        <span class="btn-icon">ЁЯФР</span>
        р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
      </button>
      <button class="nav-btn-outline" (click)="openModal('register')">
        <span class="btn-icon">тЬи</span>
        р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б
      </button>
    </ng-container>
    
    <button *ngIf="isLoggedIn" class="nav-btn-outline logout-btn" (click)="logout()">
      <span class="btn-icon">ЁЯСЛ</span>
      р╕нр╕нр╕Бр╕Ир╕▓р╕Бр╕гр╕░р╕Ър╕Ъ
    </button>
  </div>
</nav>

<!-- ЁЯПа Hero Section -->
<div class="container">
  <div class="hero-box">
    <div class="hero-icon-wrapper">
      <div class="hero-icon">ЁЯОо</div>
      <div class="hero-glow"></div>
    </div>
    <h1 class="hero-title">
      р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕кр╕╣р╣И <span class="gradient-text">GameShop</span>
    </h1>
    <p class="hero-text">
      р╕гр╣Йр╕▓р╕Щр╕Др╣Йр╕▓р╣Ар╕Бр╕бр╕нр╕нр╕Щр╣Др╕ер╕Щр╣Мр╕кр╕╕р╕Фр╕Др╕гр╕Ър╕Др╕гр╕▒р╕Щ р╕гр╕зр╕бр╕Чр╕╕р╕Бр╣Бр╕Щр╕зр╣Ар╕Бр╕бр╕вр╕нр╕Фр╕ор╕┤р╕Хр╣Гр╕Щр╕Чр╕╡р╣Ир╣Ар╕Фр╕╡р╕вр╕з<br>
      <span class="hero-subtext">ЁЯОп р╕гр╕▓р╕Др╕▓р╕Фр╕╡р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф | ЁЯЪА р╕Ир╕▒р╕Фр╕кр╣Ир╕Зр╕Чр╕▒р╕Щр╕Чр╕╡ | ЁЯОБ р╣Вр╕Ыр╕гр╣Вр╕бр╕Кр╕▒р╣Ир╕Щр╕Юр╕┤р╣Ар╕ир╕й</span>
    </p>
    <button class="btn-primary" (click)="openModal('register')">
      <span class="btn-shine"></span>
      <span class="btn-text">р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╣Ар╕ер╕вр╕Хр╕нр╕Щр╕Щр╕╡р╣Й</span>
      <span class="btn-arrow">тЖТ</span>
    </button>
  </div>
</div>

<!-- ЁЯТм Login Modal -->
<div class="modal-overlay" [class.active]="isLoginModalOpen" (click)="closeModalOnOverlay($event, 'login')">
  <div class="auth-card" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="closeModal('login')">&times;</button>
    
    <div class="auth-header">
      <div class="auth-icon">ЁЯФР</div>
      <h2>р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ</h2>
      <p class="auth-subtitle">р╕вр╕┤р╕Щр╕Фр╕╡р╕Хр╣Йр╕нр╕Щр╕гр╕▒р╕Ър╕Бр╕ер╕▒р╕Ър╕бр╕▓!</p>
    </div>
    
    <div class="error-message" *ngIf="loginError">
      <span class="error-icon">тЪая╕П</span>
      {{ loginError }}
    </div>

    <form (ngSubmit)="handleLogin()">
      <div class="form-group">
        <label for="loginEmail">
          <span class="label-icon">ЁЯУз</span>
          р╕нр╕╡р╣Ар╕бр╕е
        </label>
        <input 
          type="email" 
          id="loginEmail" 
          [(ngModel)]="loginEmail"
          name="loginEmail"
          required 
          placeholder="example@email.com"
        />
      </div>

      <div class="form-group">
        <label for="loginPassword">
          <span class="label-icon">ЁЯФТ</span>
          р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
        </label>
        <input 
          type="password" 
          id="loginPassword" 
          [(ngModel)]="loginPassword"
          name="loginPassword"
          required 
          placeholder="тАвтАвтАвтАвтАвтАвтАвтАв"
        />
      </div>

      <button type="submit" class="btn-submit">
        <span class="btn-shine"></span>
        р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
      </button>
    </form>

    <div class="divider">
      <span>р╕лр╕гр╕╖р╕н</span>
    </div>

    <div class="auth-switch">
      р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╕Ър╕▒р╕Нр╕Кр╕╡? 
      <a href="#" (click)="switchModal('login', 'register'); $event.preventDefault()">
        р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Бр╣Ар╕ер╕в
      </a>
    </div>
  </div>
</div>

<!-- ЁЯУЭ Register Modal -->
<div class="modal-overlay" [class.active]="isRegisterModalOpen" (click)="closeModalOnOverlay($event, 'register')">
  <div class="auth-card register-card" (click)="$event.stopPropagation()">
    <button class="close-btn" (click)="closeModal('register')">&times;</button>
    
    <div class="auth-header">
      <div class="auth-icon">тЬи</div>
      <h2>р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б</h2>
      <p class="auth-subtitle">р╣Ар╕гр╕┤р╣Ир╕бр╕Хр╣Йр╕Щр╕Бр╕▓р╕гр╕Ьр╕Ир╕Нр╕ар╕▒р╕вр╕Вр╕нр╕Зр╕Др╕╕р╕У</p>
    </div>
    
    <div class="profile-preview" [innerHTML]="profilePreview"></div>
    
    <div class="error-message" *ngIf="registerError">
      <span class="error-icon">тЪая╕П</span>
      {{ registerError }}
    </div>
    
    <div class="success-message" *ngIf="registerSuccess">
      <span class="success-icon">тЬЕ</span>
      {{ registerSuccess }}
    </div>

    <form (ngSubmit)="handleRegister()">
      <div class="form-group">
        <label for="registerUsername">
          <span class="label-icon">ЁЯСд</span>
          р╕Кр╕╖р╣Ир╕нр╕Ьр╕╣р╣Йр╣Гр╕Кр╣Й
        </label>
        <input 
          type="text" 
          id="registerUsername" 
          [(ngModel)]="registerUsername"
          name="registerUsername"
          required 
          placeholder="р╕Кр╕╖р╣Ир╕нр╣Ар╕ер╣Ир╕Щр╕Вр╕нр╕Зр╕Др╕╕р╕У"
        />
      </div>

      <div class="form-group">
        <label for="registerEmail">
          <span class="label-icon">ЁЯУз</span>
          р╕нр╕╡р╣Ар╕бр╕е
        </label>
        <input 
          type="email" 
          id="registerEmail" 
          [(ngModel)]="registerEmail"
          name="registerEmail"
          required 
          placeholder="example@email.com"
        />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="registerPassword">
            <span class="label-icon">ЁЯФТ</span>
            р╕гр╕лр╕▒р╕кр╕Ьр╣Ир╕▓р╕Щ
          </label>
          <input 
            type="password" 
            id="registerPassword" 
            [(ngModel)]="registerPassword"
            name="registerPassword"
            required 
            minlength="6"
            placeholder="р╕нр╕вр╣Ир╕▓р╕Зр╕Щр╣Йр╕нр╕в 6 р╕Хр╕▒р╕з"
          />
        </div>

        <div class="form-group">
          <label for="registerConfirmPassword">
            <span class="label-icon">ЁЯФР</span>
            р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕гр╕лр╕▒р╕к
          </label>
          <input 
            type="password" 
            id="registerConfirmPassword" 
            [(ngModel)]="registerConfirmPassword"
            name="registerConfirmPassword"
            required 
            placeholder="р╕вр╕╖р╕Щр╕вр╕▒р╕Щр╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З"
          />
        </div>
      </div>

      <div class="form-group">
        <label for="registerImage">
          <span class="label-icon">ЁЯЦ╝я╕П</span>
          р╕гр╕╣р╕Ыр╣Вр╕Ыр╕гр╣Др╕Яр╕ер╣М (URL)
          <span class="optional-badge">р╣Др╕бр╣Ир╕Ър╕▒р╕Зр╕Др╕▒р╕Ъ</span>
        </label>
        <input 
          type="url" 
          id="registerImage" 
          [(ngModel)]="registerImage"
          name="registerImage"
          (ngModelChange)="onImageChange()"
          placeholder="https://example.com/avatar.jpg"
        />
      </div>

      <button type="submit" class="btn-submit">
        <span class="btn-shine"></span>
        р╕кр╕бр╕▒р╕Др╕гр╕кр╕бр╕▓р╕Кр╕┤р╕Б
      </button>
    </form>

    <div class="divider">
      <span>р╕лр╕гр╕╖р╕н</span>
    </div>

    <div class="auth-switch">
      р╕бр╕╡р╕Ър╕▒р╕Нр╕Кр╕╡р╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з? 
      <a href="#" (click)="switchModal('register', 'login'); $event.preventDefault()">
        р╣Ар╕Вр╣Йр╕▓р╕кр╕╣р╣Ир╕гр╕░р╕Ър╕Ъ
      </a>
    </div>
  </div>
</div>