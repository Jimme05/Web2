<app-admin-navbar></app-admin-navbar>

<div class="container">
  <div class="dashboard-box">
    <h2 class="dashboard-title">ЁЯТ│ р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕╣р╕Ыр╕нр╕Зр╕кр╣Ир╕зр╕Щр╕ер╕Ф</h2>

    <form class="coupon-form" (ngSubmit)="createCoupon()">
      <div class="form-group">
        <label>ЁЯкк р╕Кр╕╖р╣Ир╕нр╕Др╕╣р╕Ыр╕нр╕З</label>
        <input
          type="text"
          placeholder="р╣Ар╕Кр╣Ир╕Щ GAME2025"
          [(ngModel)]="couponName"
          name="couponName"
          required
        />
      </div>

      <div class="form-group">
        <label>ЁЯОп р╕Ир╕│р╕Щр╕зр╕Щр╕Др╕гр╕▒р╣Йр╕Зр╕Чр╕╡р╣Ир╣Гр╕Кр╣Йр╣Др╕Фр╣Й</label>
        <input
          type="number"
          min="1"
          placeholder="р╣Ар╕Кр╣Ир╕Щ 10"
          [(ngModel)]="usageLimit"
          name="usageLimit"
          required
        />
      </div>

      <div class="form-group">
        <label>ЁЯТ░ р╕кр╣Ир╕зр╕Щр╕ер╕Ф (%)</label>
        <input
          type="number"
          min="1"
          max="100"
          placeholder="р╣Ар╕Кр╣Ир╕Щ 15"
          [(ngModel)]="discountPercent"
          name="discountPercent"
          required
        />
      </div>

      <button class="btn-create" type="submit" [disabled]="loading">
        {{ loading ? 'р╕Бр╕│р╕ер╕▒р╕Зр╕Ър╕▒р╕Щр╕Чр╕╢р╕Б...' : 'р╕кр╕гр╣Йр╕▓р╕Зр╕Др╕╣р╕Ыр╕нр╕З' }}
      </button>
    </form>

    <h3 class="sub-title">ЁЯОЯя╕П р╕гр╕▓р╕вр╕Бр╕▓р╕гр╕Др╕╣р╕Ыр╕нр╕Зр╕кр╣Ир╕зр╕Щр╕ер╕Ф</h3>

    <div class="coupon-list" *ngIf="coupons.length > 0; else emptyCoupon">
      <div class="coupon-item" *ngFor="let c of coupons">
        <div>
          <h4>{{ c.code }}</h4>
          <p>р╕кр╣Ир╕зр╕Щр╕ер╕Ф: {{ c.discount }}% | р╣Гр╕Кр╣Йр╣Др╕Фр╣Йр╕нр╕╡р╕Б {{ c.usageLimit }} р╕Др╕гр╕▒р╣Йр╕З</p>
        </div>
        <span class="status" [class.active]="c.active">
          {{ c.active ? 'р╣Гр╕Кр╣Йр╕Зр╕▓р╕Щр╕нр╕вр╕╣р╣И' : 'р╕лр╕бр╕Фр╕нр╕▓р╕вр╕╕' }}
        </span>
      </div>
    </div>

    <ng-template #emptyCoupon>
      <p class="empty-text">р╕вр╕▒р╕Зр╣Др╕бр╣Ир╕бр╕╡р╕Др╕╣р╕Ыр╕нр╕Зр╣Гр╕Щр╕гр╕░р╕Ър╕Ъ ЁЯШЕ</p>
    </ng-template>
  </div>
</div>
