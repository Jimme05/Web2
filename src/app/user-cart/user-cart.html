<!-- üéÆ Navbar -->
<app-user-navbar [balance]="balance" [cartCount]="cart.length"></app-user-navbar>

<!-- üõí ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ -->
<div class="cart-container">
  <div class="cart-box">
    <h2 class="cart-title">üõí ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>

    <!-- ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
    <div *ngIf="cart.length > 0; else emptyCart">
      <div class="cart-item" *ngFor="let item of cart">
        <img [src]="item.image" alt="Game Image" class="item-img" />

        <div class="item-info">
          <h3>{{ item.title }}</h3>
          <p class="price">‡∏ø{{ item.price.toFixed(2) }}</p>
        </div>

        <button class="btn-remove" (click)="removeFromCart(item)">‡∏•‡∏ö</button>
      </div>

      <!-- üîπ ‡∏ä‡πà‡∏≠‡∏á‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î -->
      <div class="discount-section">
        <input
          type="text"
          placeholder="‡∏£‡∏´‡∏±‡∏™‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î"
          [(ngModel)]="discountCode"
        />
        <button class="btn-apply" (click)="applyDiscount()">‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î</button>
      </div>

      <!-- üîπ ‡∏™‡∏£‡∏∏‡∏õ‡∏£‡∏≤‡∏Ñ‡∏≤ -->
      <div class="summary">
        <p>‡∏£‡∏≤‡∏Ñ‡∏≤‡πÄ‡∏ï‡πá‡∏° : ‡∏ø{{ totalPrice.toFixed(2) }}</p>
        <h3>‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏™‡∏¥‡πâ‡∏ô : <span>‡∏ø{{ finalPrice.toFixed(2) }}</span></h3>
      </div>

      <button class="btn-pay" (click)="checkout()">‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô</button>
    </div>

    <!-- ‡∏ñ‡πâ‡∏≤‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ -->
    <ng-template #emptyCart>
      <p class="empty">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤ üò¢</p>
    </ng-template>
  </div>
</div>
